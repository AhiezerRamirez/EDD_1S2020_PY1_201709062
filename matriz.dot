digraph { 
 rankdir = TB; 
 node [shape=rectangle, height=0.5, width=0.5]; 
 graph[ nodesep = 0.5];
CH3[label="3"];
CH4[label="4"];
CH5[label="5"];
CH6[label="6"];

CV5 [label="5"];
CV6 [label="6"];
CV7 [label="7"];
CV8 [label="8"];

nodo308[label="C"];
nodo405[label="H" style=filled color=lightblue];
nodo406[label="O"];
nodo407[label="L"];
nodo408[label="A" style=filled color=chartreuse];
nodo508[label="S"];
nodo608[label="A"];

root -> CH3[ dir=both];
CH3 -> CH4[ dir=both];
CH4 -> CH5[ dir=both];
CH5 -> CH6[ dir=both];
root -> CV5[ dir=both];
CV5 -> CV6 [ dir=both];
CV6 -> CV7 [ dir=both];
CV7 -> CV8 [ dir=both];

CH3 -> nodo308 [ dir=both];
CH4 -> nodo405 [ dir=both];
nodo405 -> nodo406 [ dir=both];
nodo406 -> nodo407 [ dir=both];
nodo407 -> nodo408 [ dir=both];
CH5 -> nodo508 [ dir=both];
CH6 -> nodo608 [ dir=both];

CV5 -> nodo405 [constraint=false, dir=both];
CV6 -> nodo406 [constraint=false, dir=both];
CV7 -> nodo407 [constraint=false, dir=both];
CV8 -> nodo308 [constraint=false, dir=both];
nodo308 -> nodo408 [ dir=both];
nodo408 -> nodo508 [ dir=both];
nodo508 -> nodo608 [ dir=both];

{ rank=same;root;CH3 ;CH4 ;CH5 ;CH6 ;}
{rank= same;CV5;nodo405;}
{rank= same;CV6;nodo406;}
{rank= same;CV7;nodo407;}
{rank= same;CV8;nodo308;nodo408;nodo508;nodo608;}
}